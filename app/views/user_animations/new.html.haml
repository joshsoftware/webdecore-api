-locations = ["Maharashtra", "Karnataka", "AP"]
.container
  .row
    .col-lg-4.offset-lg-4
      %h3 Fill Animation Details
      = bootstrap_form_with scope: :user_animation, url: user_animations_path,local: true do |form|
        = form.hidden_field :price, value: @price, readonly: true
        %p
        = form.hidden_field :animation_data_id, value: @animation_id
        %p
        = form.hidden_field :category_id, value: @category_id
        %p
        = form.hidden_field :sub_category_id, value: @sub_category_id
        %p
        = form.date_field :start_date, min: Date.today, onchange: 'setDate(this.value)'
        %p
        = form.text_field :end_date, class: 'string datepicker'
        %p
        = form.text_field :amount, value: @amount, readonly: true
        %p
        = form.select :location, locations
        = form.submit
      %br
      = button_to 'Cancel', animations_path, method: "get", class: "btn btn-success", :style => "float: left"



:javascript
  setDate = function(start_date){
    document.getElementById('end_date').min = start_date
  }

  calcAmount = function(end_date)
  {
    price =  document.getElementById('user_animation_price').value
    start_date = document.getElementById('user_animation_start_date').value
    days = (Math.round((Date.parse(end_date) - Date.parse(start_date))/(1000*60*60*24)))+1
    amount = (parseInt(price)) * days
    document.getElementById('user_animation_amount').value = amount
  }
